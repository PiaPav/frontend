# ๐ ะะพะฒัะน ะฒะธะทัะฐะปะธะทะฐัะพั ะฐััะธัะตะบัััั ั gRPC Stream

## โจ ะงัะพ ะฝะพะฒะพะณะพ?

### 1. **ะะพััะฐะฟะฝะฐั ะทะฐะณััะทะบะฐ ะดะฐะฝะฝัั**
ะะฐะฝะฝัะต ะฟัะธัะพะดัั ัะตัะตะท gRPC stream ะฒ ัะตะฐะปัะฝะพะผ ะฒัะตะผะตะฝะธ:
- ๐ฆ Requirements (ะทะฐะฒะธัะธะผะพััะธ)
- ๐ Endpoints (API ะผะฐัััััั)
- ๐๏ธ Architecture (ะณัะฐั ะทะฐะฒะธัะธะผะพััะตะน)

### 2. **ะััะฟะฟะธัะพะฒะบะฐ endpoints ะฟะพ ะบะปะฐััะฐะผ**
Endpoints ัะตะฟะตัั ัะณััะฟะฟะธัะพะฒะฐะฝั ะฟะพ ะบะปะฐััะฐะผ ั ะฒะพะทะผะพะถะฝะพัััั ัะฐัะบัััะธั:

```
โผ Account (3)
  โโ POST /v1/auth/registration โ create_account
  โโ POST /v1/auth/login โ login
  โโ POST /v1/auth/refresh โ refresh_token

โถ Project (7)
โถ Health (1)
```

### 3. **ะะฝัะตัะฐะบัะธะฒะฝัะน ะณัะฐั**
- โ ะะตัะตัะฐัะบะธะฒะฐะฝะธะต ัะทะปะพะฒ
- โ ะะฐัััะณะธะฒะฐะฝะธะต ัััะตะปะพะบ
- โ ะฆะฒะตัะพะฒะฐั ะบะพะดะธัะพะฒะบะฐ ะฟะพ ัะธะฟะฐะผ
- โ ะะตัะฐะปัะฝะฐั ะธะฝัะพัะผะฐัะธั ะฟัะธ ะบะปะธะบะต
- โ ะะธะฝะธ-ะบะฐััะฐ ะดะปั ะฝะฐะฒะธะณะฐัะธะธ

### 4. **ะัะพะณัะตัั ะทะฐะณััะทะบะธ**
ะัะพะฑัะฐะถะตะฝะธะต ะฟัะพะณัะตััะฐ ะฟะพะปััะตะฝะธั ะดะฐะฝะฝัั ะฒ ัะตะฐะปัะฝะพะผ ะฒัะตะผะตะฝะธ

## ๐ฏ ะะฐะบ ะทะฐะฟัััะธัั?

### ะะฐัะธะฐะฝั 1: ะก ัะธะผัะปััะธะตะน (ัะฐะฑะพัะฐะตั ัะตะนัะฐั)

```powershell
cd c:\Users\user\repos\piapav\frontend
npm run dev
```

ะัะบัะพะนัะต: http://localhost:5173/projects/1/stream

### ะะฐัะธะฐะฝั 2: ะก ัะตะฐะปัะฝัะผ gRPC (ััะตะฑัะตั ะฝะฐัััะพะนะบะธ)

1. **ะฃััะฐะฝะพะฒะธัะต ะทะฐะฒะธัะธะผะพััะธ**:
```powershell
npm install grpc-web google-protobuf
```

2. **ะกะณะตะฝะตัะธััะนัะต proto ะบะปะธะตะฝัั**:
```powershell
cd src\proto
protoc -I=. common.proto core.proto --js_out=import_style=commonjs:./generated --grpc-web_out=import_style=commonjs,mode=grpcwebtext:./generated
```

3. **ะะฐัััะพะนัะต Envoy proxy** (ัะผ. GRPC_INTEGRATION.md)

4. **ะะฐัะบะพะผะผะตะฝัะธััะนัะต ะบะพะด ะฒ `src/services/grpcClient.js`**

## ๐ ะะพะฒัะต ัะฐะนะปั

```
src/
โโโ pages/
โ   โโโ Projects/
โ       โโโ ProjectViewStream.jsx          โ ะะพะฒัะน ะบะพะผะฟะพะฝะตะฝั
โ       โโโ ProjectViewStream.module.css   โ ะกัะธะปะธ
โโโ services/
โ   โโโ grpcClient.js                      โ gRPC ะบะปะธะตะฝั
โโโ proto/
    โโโ common.proto                        โ Proto ัะฐะนะปั (ัะบะพะฟะธััะนัะต)
    โโโ core.proto
    โโโ generated/                          โ ะกะณะตะฝะตัะธัะพะฒะฐะฝะฝัะต ัะฐะนะปั
```

## ๐จ ะคัะฝะบัะธะพะฝะฐะปัะฝะพััั

### ะะพะบะพะฒะฐั ะฟะฐะฝะตะปั ั ััะตะผั ะฒะบะปะฐะดะบะฐะผะธ:

#### ๐ฆ Requirements
- ะกะฟะธัะพะบ ะฒัะตั Python ะทะฐะฒะธัะธะผะพััะตะน
- ะะฝะธะผะฐัะธั ะฟะพัะฒะปะตะฝะธั ะฟะพ ะผะตัะต ะทะฐะณััะทะบะธ
- Hover ัััะตะบัั

#### ๐ Endpoints
- ะััะฟะฟะธัะพะฒะบะฐ ะฟะพ ะบะปะฐััะฐะผ (Account, Project, Health)
- ะะฐัะบััะฒะฐััะธะตัั ะณััะฟะฟั
- ะฆะฒะตัะพะฒะฐั ะบะพะดะธัะพะฒะบะฐ HTTP ะผะตัะพะดะพะฒ:
  - ๐ข GET - ัะธะฝะธะน
  - ๐ข POST - ะทะตะปัะฝัะน
  - ๐ PUT - ะพัะฐะฝะถะตะฒัะน
  - ๐ด DELETE - ะบัะฐัะฝัะน

#### ๐๏ธ Architecture
- ะะตัะตะฒะพ ะทะฐะฒะธัะธะผะพััะตะน (parent โ children)
- ะะพะผะฟะฐะบัะฝะพะต ะพัะพะฑัะฐะถะตะฝะธะต
- ะะพะบะฐะทัะฒะฐะตั ัะฒัะทะธ ะผะตะถะดั ะบะพะผะฟะพะฝะตะฝัะฐะผะธ

### ะะปะฐะฒะฝะฐั ะพะฑะปะฐััั - React Flow:

- **ะฃะทะปั**: ะฆะฒะตัะพะฒะฐั ะบะพะดะธัะพะฒะบะฐ ะฟะพ ัะธะฟะฐะผ
  - ๐ฃ Account - ัะธะพะปะตัะพะฒัะน
  - ๐ด Project - ะบัะฐัะฝัะน
  - ๐ต Database - ัะธะฝะธะน
  - ๐ข Health - ะทะตะปัะฝัะน

- **ะกััะตะปะบะธ**: ะะพะบะฐะทัะฒะฐัั ะทะฐะฒะธัะธะผะพััะธ ะผะตะถะดั ัะทะปะฐะผะธ
  - ะะฝะธะผะธัะพะฒะฐะฝะฝัะต
  - ะก ะฟะพะดะฟะธััะผะธ
  - ะะพะถะฝะพ ัะฐัััะณะธะฒะฐัั

- **ะฃะฟัะฐะฒะปะตะฝะธะต**:
  - Zoom (ะบะพะปะตัะพ ะผััะธ ะธะปะธ ะบะฝะพะฟะบะธ +/-)
  - Pan (ะฟะตัะตัะฐัะบะธะฒะฐะฝะธะต ัะพะฝะฐ)
  - Fit View (ะฟะพะดะพะณะฝะฐัั ะฟะพะด ัะบัะฐะฝ)
  - Mini Map (ะฝะฐะฒะธะณะฐัะธั)

- **ะะตัะฐะปะธ ัะทะปะฐ**:
  - ะะปะธะบ ะฟะพ ัะทะปั โ ะฟะฐะฝะตะปั ั ะธะฝัะพัะผะฐัะธะตะน
  - ID, Class, Method, Position

## ๐ ะะพัะพะบ ะดะฐะฝะฝัั

```
Frontend                    Core Server
   โ                            โ
   โโโโโโโโ Connect โโโโโโโโโโโโโบ
   โ                            โ
   โโโโโโโโ START โโโโโโโโโโโโโโโค
   โ                            โ
   โโโโโ REQUIREMENTS โโโโโโโโโโโค (1 message)
   โ                            โ
   โโโโโโ ENDPOINTS โโโโโโโโโโโโโค (1 message)
   โ                            โ
   โโโโโ ARCHITECTURE โโโโโโโโโโโค (N messages, ะฟะพ ัะฐัััะผ)
   โโโโโ ARCHITECTURE โโโโโโโโโโโค
   โโโโโ ARCHITECTURE โโโโโโโโโโโค
   โ         ...                โ
   โ                            โ
   โโโโโโโโ DONE โโโโโโโโโโโโโโโโค
   โ                            โ
```

## ๐ฎ ะะฐะบ ะธัะฟะพะปัะทะพะฒะฐัั

### ะะฐะฟััะบ ะฒะธะทัะฐะปะธะทะฐัะพัะฐ:

1. ะะพะนะดะธัะต ะฒ ัะธััะตะผั: `/login`
2. ะะตัะตะนะดะธัะต ะบ ะฟัะพะตะบัะฐะผ: `/projects`
3. ะัะฑะตัะธัะต ะฟัะพะตะบั ะธ ะฝะฐะถะผะธัะต **"๐ Live Stream"**
4. ะะฐะฑะปัะดะฐะนัะต ะทะฐ ะฟะพััะฐะฟะฝะพะน ะทะฐะณััะทะบะพะน ะดะฐะฝะฝัั

### ะะฐะฑะพัะฐ ั ะณัะฐัะพะผ:

- **ะะตัะตัะฐัะบะธะฒะฐะฝะธะต ัะทะปะฐ**: ะะฐะถะผะธัะต ะปะตะฒัั ะบะฝะพะฟะบั ะผััะธ ะฝะฐ ัะทะปะต
- **ะะฐัััะฐะฑะธัะพะฒะฐะฝะธะต**: ะะพะปะตัะพ ะผััะธ ะธะปะธ ะบะฝะพะฟะบะธ +/-
- **ะะตัะตะผะตัะตะฝะธะต**: ะะฐะถะผะธัะต ะผััั ะฝะฐ ัะพะฝะต ะธ ะดะฒะธะณะฐะนัะต
- **ะัะฑะพั ัะทะปะฐ**: ะะปะธะบ ะฟะพ ัะทะปั โ ะดะตัะฐะปัะฝะฐั ะฟะฐะฝะตะปั ัะฝะธะทั
- **ะกะพะทะดะฐะฝะธะต ัะฒัะทะตะน**: ะะพััะฝะธัะต ะพั handle ัะพัะบะธ ัะทะปะฐ ะบ ะดััะณะพะผั ัะทะปั

### ะะบะปะฐะดะบะธ:

- ะะตัะตะบะปััะฐะนัะตัั ะผะตะถะดั Requirements, Endpoints, Architecture
- ะ Endpoints ะบะปะธะบะฐะนัะต ะฝะฐ ะธะผั ะบะปะฐััะฐ ะดะปั ัะฐัะบัััะธั ะผะตัะพะดะพะฒ
- ะกะบัะพะปะปะธััะนัะต ัะฟะธัะบะธ ะฟัะธ ะฑะพะปััะพะผ ะบะพะปะธัะตััะฒะต ัะปะตะผะตะฝัะพะฒ

## ๐ ะกัะฐัะธััะธะบะฐ

ะ ัะตะดะตัะต ะพัะพะฑัะฐะถะฐะตััั:
- **Progress**: ะัะพะณัะตัั ะทะฐะณััะทะบะธ (%)
- **Nodes**: ะะพะปะธัะตััะฒะพ ัะทะปะพะฒ ะฒ ะณัะฐัะต
- **Edges**: ะะพะปะธัะตััะฒะพ ัะฒัะทะตะน

## ๐ ะัะปะฐะดะบะฐ

### ะัะพะฒะตัะบะฐ ะบะพะฝัะพะปะธ:

ะัะบัะพะนัะต DevTools (F12) โ Console

ะั ะดะพะปะถะฝั ะฒะธะดะตัั ะปะพะณะธ:
```
๐ก Connecting to gRPC stream for task 1...
โ Stream started
๐ฆ Requirements received: {total: 15, requirements: [...]}
๐ Endpoints received: {total: 11, endpoints: {...}}
๐๏ธ Architecture part received: {parent: "...", children: [...]}
โ Stream completed
```

### ะัะปะธ ะณัะฐั ะฟัััะพะน:

1. ะัะพะฒะตัััะต ะบะพะฝัะพะปั ะฝะฐ ะพัะธะฑะบะธ
2. ะฃะฑะตะดะธัะตัั, ััะพ ะดะฐะฝะฝัะต ะฟัะธัะพะดัั (ะปะพะณะธ ะฒััะต)
3. ะัะบัะพะนัะต React DevTools โ Components โ ProjectViewStream
4. ะัะพะฒะตัััะต state: nodes, edges, architecture

### ะัะปะธ gRPC ะฝะต ะฟะพะดะบะปััะฐะตััั:

1. ะัะพะฒะตัััะต Envoy proxy (ะดะพะปะถะตะฝ ะฑััั ะทะฐะฟััะตะฝ ะฝะฐ :8080)
2. ะัะพะฒะตัััะต CORS ะฝะฐัััะพะนะบะธ
3. ะฃะฑะตะดะธัะตัั, ััะพ Core ัะตัะฒะตั ะดะพัััะฟะตะฝ
4. ะัะพะฒะตัััะต URL ะฒ `grpcClient.js`

## ๐ ะะพะฟะพะปะฝะธัะตะปัะฝัะต ะผะฐัะตัะธะฐะปั

- `GRPC_INTEGRATION.md` - ะะพะปะฝะฐั ะธะฝััััะบัะธั ะฟะพ ะฝะฐัััะพะนะบะต gRPC
- `VERCEL_DEPLOYMENT.md` - ะะตะฟะปะพะน ะฝะฐ Vercel
- `IMAGES_GUIDE.md` - ะะฐะฑะพัะฐ ั ะธะทะพะฑัะฐะถะตะฝะธัะผะธ

## ๐ฏ ะงัะพ ะดะฐะปััะต?

- [ ] ะะฐัััะพะธัั ัะตะฐะปัะฝัะน gRPC ะบะปะธะตะฝั
- [ ] ะะพะฑะฐะฒะธัั ัะธะปัััะฐัะธั ัะทะปะพะฒ ะฟะพ ัะธะฟั
- [ ] ะกะพััะฐะฝะตะฝะธะต ะฟะพะทะธัะธะน ัะทะปะพะฒ
- [ ] ะญะบัะฟะพัั ะณัะฐัะฐ ะฒ ะธะทะพะฑัะฐะถะตะฝะธะต
- [ ] ะะพะปะฝะพัะบัะฐะฝะฝัะน ัะตะถะธะผ
- [ ] ะขะตะผะฝะฐั ัะตะผะฐ

## ๐ค ะะฑัะฐัะฝะฐั ัะฒัะทั

ะัะปะธ ััะพ-ัะพ ะฝะต ัะฐะฑะพัะฐะตั:
1. ะัะพะฒะตัััะต ะบะพะฝัะพะปั ะฑัะฐัะทะตัะฐ
2. ะัะพะฒะตัััะต Network tab (DevTools)
3. ะัะพะฒะตัััะต ะปะพะณะธ Core ัะตัะฒะตัะฐ
4. ะัะบัะพะนัะต issue ะฒ ัะตะฟะพะทะธัะพัะธะธ
